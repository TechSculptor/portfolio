RewriteEngine On
RewriteBase /

# Redirect root to backend/index.php
RewriteRule ^$ backend/index.php [L]

# Clean URL Rewrites
# Clean URL Rewrites (French)
RewriteRule ^accueil$ backend/index.php [L]
RewriteRule ^connexion$ backend/login.php [L]
RewriteRule ^inscription$ backend/register.php [L]
RewriteRule ^tableau-de-bord$ backend/dashboard.php [L]
RewriteRule ^prendre-rendez-vous$ backend/book_appointment.php [L]
RewriteRule ^medecins$ backend/doctors.php [L]
RewriteRule ^admin-medecins$ backend/admin_doctors.php [L]
RewriteRule ^a-propos$ backend/about.php [L]
RewriteRule ^deconnexion$ backend/logout.php [L]
RewriteRule ^mot-de-passe-oublie$ backend/forgot_password.php [L]
RewriteRule ^reinitialiser-mot-de-passe$ backend/reset_password.php [L]
RewriteRule ^disponibilites$ backend/doctor_availability.php [L]
RewriteRule ^verification-email$ backend/verify_email.php [L]

# Clean URL Rewrites (English)
RewriteRule ^home$ backend/index.php [L]
RewriteRule ^login$ backend/login.php [L]
RewriteRule ^register$ backend/register.php [L]
RewriteRule ^dashboard$ backend/dashboard.php [L]
RewriteRule ^book-appointment$ backend/book_appointment.php [L]
RewriteRule ^doctors$ backend/doctors.php [L]
RewriteRule ^admin-doctors$ backend/admin_doctors.php [L]
RewriteRule ^about$ backend/about.php [L]
RewriteRule ^logout$ backend/logout.php [L]
RewriteRule ^forgot-password$ backend/forgot_password.php [L]
RewriteRule ^reset-password$ backend/reset_password.php [L]
RewriteRule ^availability$ backend/doctor_availability.php [L]
RewriteRule ^verify-email$ backend/verify_email.php [L]

# Keep technical endpoints (optional or mapped)
RewriteRule ^fetch_availability$ backend/fetch_availability.php [L]
RewriteRule ^get_availability$ backend/get_availability.php [L]

# Legacy Redirects (Optional: Redirect old English URLs to new French URLs if needed, but for now just replacing)
# RewriteRule ^login$ /connexion [R=301,L]

# Allow direct access to existing files/dirs (like frontend assets)
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ backend/$1 [L]
